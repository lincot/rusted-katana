#![feature(test)]

extern crate test;
use test::{black_box, Bencher};

#[bench]
fn bench(bencher: &mut Bencher) {
    let nums = black_box(&[
        56, 21, 34, 96, 62, 47, 38, 35, 14, 97, 85, 97, 70, 59, 51, 42, 37, 34, 45, 22, 87, 91, 58,
        82, 78, 33, 44, 91, 27, 65, 14, 18, 22, 32, 65, 64, 45, 74, 23, 62, 6, 15, 57, 46, 67, 61,
        99, 33, 44, 4, 50, 64, 27, 7, 57, 85, 1, 83, 10, 6, 99, 72, 1, 60, 8, 26, 50, 70, 13, 79,
        34, 15, 57, 59, 45, 96, 32, 63, 14, 38, 49, 41, 57, 33, 44, 70, 16, 59, 56, 20, 70, 36, 72,
        18, 32, 89, 29, 47, 6, 37,
    ]);
    let values = black_box(&[
        0, 1, 2, 6, 12, 18, 24, 31, 39, 49, 62, 76, 90, 104, 119, 134, 150, 168, 186, 206, 227,
        249, 271, 294, 320, 347, 374, 403, 435, 467, 499, 532, 565, 598, 632, 666, 700, 735, 771,
        808, 845, 883, 921, 962, 1004, 1048, 1092, 1136, 1181, 1226, 1271, 1317, 1364, 1411, 1460,
        1510, 1560, 1611, 1667, 1723, 1780, 1837, 1894, 1951, 2009, 2068, 2127, 2186, 2246, 2307,
        2369, 2431, 2494, 2558, 2622, 2687, 2752, 2819, 2889, 2959, 3029, 3099, 3171, 3243, 3317,
        3395, 3474, 3556, 3639, 3724, 3809, 3896, 3985, 4076, 4167, 4263, 4359, 4456, 4553, 4652,
    ]);
    bencher.iter(|| {
        for &value in values {
            black_box(solution::minimum_steps(nums, value));
        }
    })
}
